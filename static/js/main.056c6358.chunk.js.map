{"version":3,"sources":["Post.js","firebase.js","ImageUpload.js","App.js","reportWebVitals.js","index.js"],"names":["Post","id","username","caption","imageUrl","className","Avatar","alt","src","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","ImageUpload","useState","setCaption","image","setImage","progress","setProgress","value","max","type","placeholder","onChange","event","target","e","files","Button","onClick","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","collection","add","timestamp","FieldValue","serverTimestamp","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","modalStyle","posts","setPosts","open","setOpen","setUsername","email","setEmail","password","setPassword","user","setUser","openSignIn","setOpenSignIn","useEffect","unsubscribe","onAuthStateChanged","authUser","displayName","updateProfile","orderBy","onSnapshot","docs","map","doc","post","data","Modal","onClose","style","Input","preventDefault","signInWithEmailAndPassword","catch","createUserWithEmailAndPassword","signOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.056c6358.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Post.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nfunction Post({ id, username, caption, imageUrl }) {\n  if (username);\n  else username = \"Instagram\";\n  return (\n    <div className=\"post\">\n      <div className=\"post__header\">\n        <Avatar className=\"post__avatar\" alt=\"Abhinav\" src={imageUrl} />\n        <h3>{username}</h3>\n      </div>\n      <img className=\"post__image\" src={imageUrl} />\n      <h4 className=\"post__text\">\n        <strong>{username}</strong>\n        {caption}\n      </h4>\n    </div>\n  );\n}\n\nexport default Post;\n","import firebase from \"firebase\";\nconst firebaseApp = firebase.initializeApp({\n  apiKey: \"AIzaSyD9jERLGOKIlpg5XB-ud37t7m-_HzR7n9A\",\n  authDomain: \"instagram-clone-99bec.firebaseapp.com\",\n  projectId: \"instagram-clone-99bec\",\n  storageBucket: \"instagram-clone-99bec.appspot.com\",\n  messagingSenderId: \"890731259333\",\n  appId: \"1:890731259333:web:a687d200e49004adc597ac\",\n  measurementId: \"G-DZPT5ZSXY5\",\n});\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\nexport { db, auth, storage };\n","import React, { useState } from \"react\";\nimport firebase from \"firebase\";\nimport { Button } from \"@material-ui/core\";\nimport \"./ImageUpload.css\";\nimport { storage, db } from \"./firebase\";\nfunction ImageUpload({ username }) {\n  const [caption, setCaption] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        //Progress function....\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100,\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        //Error Function\n        console.log(error);\n        alert(error.message);\n      },\n      () => {\n        //complete function..\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            //post image inside db\n            db.collection(\"posts\").add({\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imageUrl: url,\n              username: username,\n            });\n            setProgress(0);\n            setCaption(\"\");\n            setImage(null);\n          });\n      },\n    );\n  };\n  return (\n    <div className=\"imageUpload\">\n      <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n      <input\n        type=\"text\"\n        placeholder=\"Enter a caption...\"\n        onChange={(event) => setCaption(event.target.value)}\n        value={caption}\n      />\n      <input type=\"file\" onChange={handleChange} />\n      <Button onClick={handleUpload}>Upload</Button>\n    </div>\n  );\n}\n\nexport default ImageUpload;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./Post\";\nimport { db, auth } from \"./firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input } from \"@material-ui/core\";\nimport ImageUpload from \"./ImageUpload\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        //user logged in\n        console.log(authUser);\n        setUser(authUser);\n        if (authUser.displayName) {\n          //dont update username\n        } else {\n          //if we just created someone\n          return authUser.updateProfile({ displayName: username });\n        }\n      } else {\n        //userlogged out\n        setUser(null);\n      }\n    });\n    return () => {\n      //perform some cleanup actions\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({ id: doc.id, post: doc.data() })),\n        );\n      });\n  }, []);\n\n  //SignUp Function\n  const signUp = (event) => {\n    event.preventDefault();\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((error) => alert(error.message));\n    setOpen(false);\n  };\n\n  //SignIn function\n  const signIn = (event) => {\n    event.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n    setOpenSignIn(false);\n  };\n  return (\n    <div className=\"app\">\n      <Modal open={openSignIn} onClose={() => setOpenSignIn(false)}>\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"instagram\"\n              />\n            </center>\n\n            <Input\n              type=\"text\"\n              placeholder=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              type=\"password\"\n              placeholder=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signIn}>\n              Sign In\n            </Button>\n          </form>\n        </div>\n      </Modal>\n      <Modal open={open} onClose={() => setOpen(false)}>\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"instagram\"\n              />\n            </center>\n            <Input\n              type=\"text\"\n              placeholder=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n\n            <Input\n              type=\"text\"\n              placeholder=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              type=\"password\"\n              placeholder=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signUp}>\n              Sign Up\n            </Button>\n          </form>\n        </div>\n      </Modal>\n      <div className=\"app__header\">\n        <img\n          className=\"app__headerImage\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n          alt=\"instagram\"\n        />\n        {user ? (\n          <Button onClick={() => auth.signOut()}>Logout</Button>\n        ) : (\n          <div className=\"app__loginContainer\">\n            <Button onClick={() => setOpenSignIn(true)}>Sign In</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"app__posts\">\n        {posts.map(({ id, post }) => (\n          <Post\n            id={id}\n            username={post.username}\n            imageUrl={post.imageUrl}\n            caption={post.caption}\n          />\n        ))}\n      </div>\n\n      {user ? (\n        <ImageUpload username={user.displayName} />\n      ) : (\n        <p className=\"un_post\">You need to login to Post.</p>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}