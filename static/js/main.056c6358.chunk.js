(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(16),r=a.n(s),i=(a(50),a(17)),o=(a(51),a(52),a(89)),l=a(5);var u=function(e){e.id;var t=e.username,a=e.caption,n=e.imageUrl;return t||(t="Instagram"),Object(l.jsxs)("div",{className:"post",children:[Object(l.jsxs)("div",{className:"post__header",children:[Object(l.jsx)(o.a,{className:"post__avatar",alt:"Abhinav",src:n}),Object(l.jsx)("h3",{children:t})]}),Object(l.jsx)("img",{className:"post__image",src:n}),Object(l.jsxs)("h4",{className:"post__text",children:[Object(l.jsx)("strong",{children:t}),a]})]})},p=a(26),j=p.a.initializeApp({apiKey:"AIzaSyD9jERLGOKIlpg5XB-ud37t7m-_HzR7n9A",authDomain:"instagram-clone-99bec.firebaseapp.com",projectId:"instagram-clone-99bec",storageBucket:"instagram-clone-99bec.appspot.com",messagingSenderId:"890731259333",appId:"1:890731259333:web:a687d200e49004adc597ac",measurementId:"G-DZPT5ZSXY5"}).firestore(),d=p.a.auth(),m=p.a.storage(),g=a(85),b=a(86),h=a(88),O=a(87);a(61);var f=function(e){var t=e.username,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(null),u=Object(i.a)(o,2),d=u[0],g=u[1],b=Object(n.useState)(0),h=Object(i.a)(b,2),f=h[0],x=h[1];return Object(l.jsxs)("div",{className:"imageUpload",children:[Object(l.jsx)("progress",{className:"imageupload__progress",value:f,max:"100"}),Object(l.jsx)("input",{type:"text",placeholder:"Enter a caption...",onChange:function(e){return r(e.target.value)},value:s}),Object(l.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&g(e.target.files[0])}}),Object(l.jsx)(O.a,{onClick:function(){m.ref("images/".concat(d.name)).put(d).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);x(t)}),(function(e){console.log(e),alert(e.message)}),(function(){m.ref("images").child(d.name).getDownloadURL().then((function(e){j.collection("posts").add({timestamp:p.a.firestore.FieldValue.serverTimestamp(),caption:s,imageUrl:e,username:t}),x(0),r(""),g(null)}))}))},children:"Upload"})]})};function x(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var v=Object(g.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var _=function(){var e=v(),t=Object(n.useState)(x),a=Object(i.a)(t,1)[0],c=Object(n.useState)([]),s=Object(i.a)(c,2),r=s[0],o=s[1],p=Object(n.useState)(!1),m=Object(i.a)(p,2),g=m[0],_=m[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),N=y[0],S=y[1],C=Object(n.useState)(""),I=Object(i.a)(C,2),k=I[0],U=I[1],P=Object(n.useState)(""),A=Object(i.a)(P,2),D=A[0],E=A[1],B=Object(n.useState)(null),F=Object(i.a)(B,2),L=F[0],T=F[1],z=Object(n.useState)(!1),R=Object(i.a)(z,2),G=R[0],J=R[1];return Object(n.useEffect)((function(){var e=d.onAuthStateChanged((function(e){if(e){if(console.log(e),T(e),!e.displayName)return e.updateProfile({displayName:N})}else T(null)}));return function(){e()}}),[L,N]),Object(n.useEffect)((function(){j.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){o(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(b.a,{open:G,onClose:function(){return J(!1)},children:Object(l.jsx)("div",{style:a,className:e.paper,children:Object(l.jsxs)("form",{className:"app__signup",children:[Object(l.jsx)("center",{children:Object(l.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"})}),Object(l.jsx)(h.a,{type:"text",placeholder:"email",value:k,onChange:function(e){return U(e.target.value)}}),Object(l.jsx)(h.a,{type:"password",placeholder:"password",value:D,onChange:function(e){return E(e.target.value)}}),Object(l.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.signInWithEmailAndPassword(k,D).catch((function(e){return alert(e.message)})),J(!1)},children:"Sign In"})]})})}),Object(l.jsx)(b.a,{open:g,onClose:function(){return _(!1)},children:Object(l.jsx)("div",{style:a,className:e.paper,children:Object(l.jsxs)("form",{className:"app__signup",children:[Object(l.jsx)("center",{children:Object(l.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"})}),Object(l.jsx)(h.a,{type:"text",placeholder:"username",value:N,onChange:function(e){return S(e.target.value)}}),Object(l.jsx)(h.a,{type:"text",placeholder:"email",value:k,onChange:function(e){return U(e.target.value)}}),Object(l.jsx)(h.a,{type:"password",placeholder:"password",value:D,onChange:function(e){return E(e.target.value)}}),Object(l.jsx)(O.a,{type:"submit",onClick:function(e){e.preventDefault(),d.createUserWithEmailAndPassword(k,D).then((function(e){return e.user.updateProfile({displayName:N})})).catch((function(e){return alert(e.message)})),_(!1)},children:"Sign Up"})]})})}),Object(l.jsxs)("div",{className:"app__header",children:[Object(l.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"}),L?Object(l.jsx)(O.a,{onClick:function(){return d.signOut()},children:"Logout"}):Object(l.jsxs)("div",{className:"app__loginContainer",children:[Object(l.jsx)(O.a,{onClick:function(){return J(!0)},children:"Sign In"}),Object(l.jsx)(O.a,{onClick:function(){return _(!0)},children:"Sign Up"})]})]}),Object(l.jsx)("div",{className:"app__posts",children:r.map((function(e){var t=e.id,a=e.post;return Object(l.jsx)(u,{id:t,username:a.username,imageUrl:a.imageUrl,caption:a.caption})}))}),L?Object(l.jsx)(f,{username:L.displayName}):Object(l.jsx)("p",{className:"un_post",children:"You need to login to Post."})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root")),w()}},[[62,1,2]]]);
//# sourceMappingURL=main.056c6358.chunk.js.map